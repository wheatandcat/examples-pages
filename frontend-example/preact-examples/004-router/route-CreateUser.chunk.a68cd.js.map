{"version":3,"sources":["webpack:///route-CreateUser.chunk.a68cd.js","webpack:///./routes/CreateUser.js"],"names":["webpackJsonp","rf9/","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","_default","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_router__","n","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","host","_ref","_ref2","_ref3","_ref4","_Component","_temp","_this","_ret","_len","args","Array","_key","this","apply","concat","state","input","name","genderCode","onInput","e","_extends2","setState","onSave","Promise","$return","$error","response","result","resolve","fetch","method","headers","Content-Type","body","JSON","stringify","then","$await_1","ok","json","$await_2","route","id","$boundEx","alert","render","style","padding","type","placeholder","onChange","checked","onClick"],"mappings":"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","file":"route-CreateUser.chunk.a68cd.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ \"rf9/\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _default; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router__ = __webpack_require__(\"/QC5\");\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar host = \"https://mock-server-yznxmkzmvo.now.sh\" || \"http://localhost:3000\";\n\nvar _ref = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  \"h1\",\n  null,\n  \"form\"\n);\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"br\", null);\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"br\", null);\n\nvar _ref4 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"br\", null);\n\nvar _default = function (_Component) {\n  _inherits(_default, _Component);\n\n  function _default() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _default);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      input: {\n        name: \"\",\n        genderCode: 1\n      }\n    }, _this.onInput = function (e) {\n      var _extends2;\n\n      var name = e.target.name;\n      var value = e.target.value;\n\n      _this.setState({\n        input: _extends({}, _this.state.input, (_extends2 = {}, _extends2[name] = value, _extends2))\n      });\n    }, _this.onSave = function () {\n      return new Promise(function ($return, $error) {\n        var response, result;\n        return Promise.resolve(fetch(host + \"/users\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(_this.state.input)\n        })).then(function ($await_1) {\n          try {\n            response = $await_1;\n\n            if (!response.ok) {\n              return $return(alert(\"登録に失敗しました\"));\n            }\n\n            return Promise.resolve(response.json()).then(function ($await_2) {\n              try {\n                result = $await_2;\n\n                Object(__WEBPACK_IMPORTED_MODULE_1_preact_router__[\"route\"])(\"users/\" + result.id, true);\n                return $return();\n              } catch ($boundEx) {\n                return $error($boundEx);\n              }\n            }, $error);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _default.prototype.render = function render() {\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"div\",\n      { style: { padding: \"56px 20px\" } },\n      _ref,\n      \"\\u540D\\u524D:\",\n      \" \",\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"input\", {\n        type: \"text\",\n        placeholder: \"name\",\n        name: \"name\",\n        value: this.state.input.name,\n        onChange: this.onInput\n      }),\n      _ref2,\n      \"\\u6027\\u5225:\",\n      \" \",\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"input\", {\n        type: \"radio\",\n        name: \"genderCode\",\n        value: 1,\n        checked: this.state.input.genderCode == 1,\n        onChange: this.onInput\n      }),\n      \"\\u7537\\u6027\",\n      \" \",\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\"input\", {\n        type: \"radio\",\n        name: \"genderCode\",\n        value: 2,\n        checked: this.state.input.genderCode == 2,\n        onChange: this.onInput\n      }),\n      \"\\u5973\\u6027\",\n      _ref3,\n      _ref4,\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"div\",\n        null,\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          \"button\",\n          { onClick: this.onSave },\n          \"\\u767B\\u9332\"\n        )\n      )\n    );\n  };\n\n  return _default;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-CreateUser.chunk.a68cd.js","import { Component } from \"preact\";\nimport { route } from \"preact-router\";\n\nconst host = process.env.PREACT_APP_HOST || \"http://localhost:3000\";\n\nexport default class extends Component {\n  state = {\n    input: {\n      name: \"\",\n      genderCode: 1\n    }\n  };\n\n  onInput = e => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    this.setState({\n      input: {\n        ...this.state.input,\n        [name]: value\n      }\n    });\n  };\n\n  onSave = async () => {\n    const response = await fetch(`${host}/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(this.state.input)\n    });\n\n    if (!response.ok) {\n      return alert(\"登録に失敗しました\");\n    }\n\n    const result = await response.json();\n\n    route(`users/${result.id}`, true);\n  };\n\n  render() {\n    return (\n      <div style={{ padding: \"56px 20px\" }}>\n        <h1>form</h1>\n        名前:{\" \"}\n        <input\n          type=\"text\"\n          placeholder=\"name\"\n          name=\"name\"\n          value={this.state.input.name}\n          onChange={this.onInput}\n        />\n        <br />\n        性別:{\" \"}\n        <input\n          type=\"radio\"\n          name=\"genderCode\"\n          value={1}\n          checked={this.state.input.genderCode == 1}\n          onChange={this.onInput}\n        />\n        男性{\" \"}\n        <input\n          type=\"radio\"\n          name=\"genderCode\"\n          value={2}\n          checked={this.state.input.genderCode == 2}\n          onChange={this.onInput}\n        />\n        女性\n        <br />\n        <br />\n        <div>\n          <button onClick={this.onSave}>登録</button>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/CreateUser.js"],"sourceRoot":""}