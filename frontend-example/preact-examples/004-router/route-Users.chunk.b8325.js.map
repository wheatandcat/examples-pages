{"version":3,"sources":["webpack:///route-Users.chunk.b8325.js","webpack:///./routes/Users.js"],"names":["webpackJsonp","SYRJ","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","_default","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_router_match__","n","host","_ref","_ref2","_Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","this","apply","concat","state","users","getUsers","Promise","$return","$error","response","result","resolve","fetch","then","$await_1","json","$await_2","ok","setState","alert","$boundEx","onRemove","id","method","headers","Content-Type","$await_3","componentDidMount","bind","render","_this2","style","padding","border","width","map","user","index","key","href","name","genderCode","onClick"],"mappings":"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","file":"route-Users.chunk.b8325.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"SYRJ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return _default; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router_match__ = __webpack_require__(\"sw5u\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_router_match___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_preact_router_match__);\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar host = \"https://mock-server-yznxmkzmvo.now.sh\" || \"http://localhost:3000\";\n\nvar _ref = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  \"h1\",\n  null,\n  \"users\"\n);\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  \"thead\",\n  null,\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    \"tr\",\n    null,\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"th\",\n      null,\n      \"id\"\n    ),\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"th\",\n      null,\n      \"\\u540D\\u524D\"\n    ),\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"th\",\n      null,\n      \"\\u6027\\u5225\"\n    ),\n    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"th\",\n      null,\n      \"action\"\n    )\n  )\n);\n\nvar _default = function (_Component) {\n  _inherits(_default, _Component);\n\n  function _default() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, _default);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      users: []\n    }, _this.getUsers = function () {\n      return new Promise(function ($return, $error) {\n        var response, result;\n        return Promise.resolve(fetch(host + \"/users\")).then(function ($await_1) {\n          try {\n            response = $await_1;\n            return Promise.resolve(response.json()).then(function ($await_2) {\n              try {\n                result = $await_2;\n\n                if (!response.ok) {\n                  return $return(alert(\"削除に失敗しました\"));\n                }\n\n                _this.setState({\n                  users: result\n                });\n                return $return();\n              } catch ($boundEx) {\n                return $error($boundEx);\n              }\n            }, $error);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    }, _this.onRemove = function (id) {\n      return new Promise(function ($return, $error) {\n        var response;\n        return Promise.resolve(fetch(host + \"/users/\" + id, {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        })).then(function ($await_3) {\n          try {\n            response = $await_3;\n\n            if (!response.ok) {\n              return $return(alert(\"削除に失敗しました\"));\n            }\n\n            // リストを再取得\n            _this.getUsers();\n            return $return();\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }, $error);\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _default.prototype.componentDidMount = function componentDidMount() {\n    return new Promise(function ($return, $error) {\n      this.getUsers();\n      return $return();\n    }.bind(this));\n  };\n\n  _default.prototype.render = function render() {\n    var _this2 = this;\n\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      \"div\",\n      { style: { padding: \"56px 20px\" } },\n      _ref,\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        \"table\",\n        { border: \"1\", style: { width: \"30rem\" } },\n        _ref2,\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          \"tbody\",\n          null,\n          this.state.users.map(function (user, index) {\n            return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              \"tr\",\n              { key: index },\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                \"td\",\n                null,\n                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                  __WEBPACK_IMPORTED_MODULE_1_preact_router_match__[\"Link\"],\n                  { href: \"/users/\" + user.id },\n                  user.id\n                )\n              ),\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                \"td\",\n                null,\n                user.name\n              ),\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                \"td\",\n                null,\n                user.genderCode == \"1\" ? \"男性\" : \"女性\"\n              ),\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                \"td\",\n                null,\n                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                  \"button\",\n                  { onClick: function onClick() {\n                      return _this2.onRemove(user.id);\n                    } },\n                  \"\\u524A\\u9664\"\n                )\n              )\n            );\n          })\n        )\n      )\n    );\n  };\n\n  return _default;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-Users.chunk.b8325.js","import { Component } from \"preact\";\nimport { Link } from \"preact-router/match\";\n\nconst host = process.env.PREACT_APP_HOST || \"http://localhost:3000\";\n\nexport default class extends Component {\n  state = {\n    users: []\n  };\n\n  async componentDidMount() {\n    this.getUsers();\n  }\n\n  getUsers = async () => {\n    const response = await fetch(`${host}/users`);\n    const result = await response.json();\n\n    if (!response.ok) {\n      return alert(\"削除に失敗しました\");\n    }\n\n    this.setState({\n      users: result\n    });\n  };\n\n  onRemove = async id => {\n    const response = await fetch(`${host}/users/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n\n    if (!response.ok) {\n      return alert(\"削除に失敗しました\");\n    }\n\n    // リストを再取得\n    this.getUsers();\n  };\n\n  render() {\n    return (\n      <div style={{ padding: \"56px 20px\" }}>\n        <h1>users</h1>\n        <table border=\"1\" style={{ width: \"30rem\" }}>\n          <thead>\n            <tr>\n              <th>id</th>\n              <th>名前</th>\n              <th>性別</th>\n              <th>action</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.users.map((user, index) => (\n              <tr key={index}>\n                <td>\n                  <Link href={`/users/${user.id}`}>{user.id}</Link>\n                </td>\n                <td>{user.name}</td>\n                <td>{user.genderCode == \"1\" ? \"男性\" : \"女性\"}</td>\n                <td>\n                  <button onClick={() => this.onRemove(user.id)}>削除</button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./routes/Users.js"],"sourceRoot":""}